@(studyForm: Form[controllers.StudyFormObject], 
    formType: FormType, 
    studyId: String)(implicit request: play.api.mvc.WrappedRequest[play.api.mvc.AnyContent])

@import helper._
@import controllers.{FormType, AddFormType, UpdateFormType, FormInfo}

@implicitFieldConstructor = @{ FieldConstructor(twitterBootstrapInput.f) }

@formInfo = @{ formType match {
    case AddFormType() => 
        FormInfo(Messages("biobank.study.add"), routes.StudyController.addStudySubmit)
    case UpdateFormType() => 
        FormInfo(Messages("biobank.study.update"), routes.StudyController.updateStudySubmit(studyId))  
}}

@main(formInfo.title) {
    <ul class="breadcrumb">
        <li><a href="@routes.StudyController.index">@Messages("biobank.study.plural")</a> <span class="divider">/</span></li>
        <li class="active">@formInfo.title</li>
    </ul>
    <div class="page-header">
        <h2>@formInfo.title</h2>
    </div>
    <div class="clearfix">
        @form(formInfo.action, args = 'id -> "studyForm", 'class -> "form-horizontal") {
    
        <input type="hidden" name="studyId" value="@studyId" >  
        <input type="hidden" name="version" value="@studyForm("name").value.getOrElse(-1)" >  

        @formNameAndDescription(studyForm("name"), studyForm("description"))
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">@Messages("biobank.form.submit")</button>
        </div>
    }
</div>
}
    