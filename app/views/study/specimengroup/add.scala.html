@(sgForm: Form[controllers.study.SpecimenGroupFormObject], 
    formType: FormType, 
    studyId: String, 
    studyName: String,
    breadcrumbMap: Map[String, Call])(
    implicit request: play.api.mvc.WrappedRequest[play.api.mvc.AnyContent])

@import helper._
@import tags._    
@import controllers.study._

@implicitFieldConstructor = @{ FieldConstructor(twitterBootstrapInput.f) } 

@formInfo = @{ formType match {
    case AddFormType() => 
        FormInfo(Messages("biobank.study.specimen.group.add"), 
            routes.SpecimenGroupController.addSpecimenGroupSubmit)
    case UpdateFormType() => 
        FormInfo(Messages("biobank.study.specimen.group.update"), 
            routes.SpecimenGroupController.updateSpecimenGroupSubmit)  
}}

@main(formInfo.title, breadcrumbMap) {
  <div class="page-header">
    <h2>@studyName <small>@formInfo.title</small></h2>
  </div>
  
  <div class="clearfix">
    @form(formInfo.action, args = 'id -> "addform", 'class -> "form-horizontal") {
      
      @formType match {
          case AddFormType() => { 
              <input type="hidden" name="specimenGroupId" value="dont-care">  
              <input type="hidden" name="version" value="-1" >  
              }
          case UpdateFormType() => { 
              <input type="hidden" name="specimenGroupId" value="@sgForm("specimenGroupId").value" >  
              <input type="hidden" name="version" value="@sgForm("version").value" >  
              }
      }
      
      <input type="hidden" name="studyId" value="@studyId" >  
      <input type="hidden" name="studyName" value="@studyName" >  
      
      @formNameAndDescription(sgForm("name"), sgForm("description")) 
      
      @inputText(
         field = sgForm("units"),
         args = '_label -> Messages("biobank.study.specimen.group.field.units"), 
           'placeholder -> "the type of units the specimens are measured in (Eg. mL, cm, etc.)",
           'class -> "input-xxlarge"
         )
      
      @select(
         field = sgForm("anatomicalSourceType"),
         options = SpecimenGroupSelections.anatomicalSourceTypes,
         args = '_label -> Messages("biobank.study.specimen.group.field.anatomicalsource")
      )
      
      @select(
         field = sgForm("preservationType"),
         options = SpecimenGroupSelections.preservationTypes,
         args = '_label -> Messages("biobank.study.specimen.group.field.preservation")
      )
      
      @select(
         field = sgForm("preservationTemperatureType"),
         options = SpecimenGroupSelections.preservationTemperatureTypes,
         args = '_label -> Messages("biobank.study.specimen.group.field.preservationtemperature")
      )
      
      @select(
         field = sgForm("specimenType"),
         options = SpecimenGroupSelections.specimenTypes,
         args = '_label -> Messages("biobank.study.specimen.group.field.specimentype")
      )
      
         
      <div class="form-actions">
           <button type="submit" class="btn btn-primary">@Messages("biobank.form.submit")</button>
           <a href="@routes.StudyController.showStudy(studyId)" class="btn">Cancel</a>        
      </div>
    }
  </div>
}
